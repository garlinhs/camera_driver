# This script uninstalls files and directories created by a CMake-generated
# project. It is meant to be used with the 'make uninstall' target.
# It is based on the template generated by CMake.

if(NOT EXISTS "@CMAKE_INSTALL_PREFIX@")
    message(FATAL_ERROR "Installation directory does not exist: @CMAKE_INSTALL_PREFIX@")
endif()

file(READ "@CMAKE_CURRENT_BINARY_DIR@/install_manifest.txt" files)
string(REGEX REPLACE "\n" ";" files "${files}")

foreach(file ${files})
    if(EXISTS "${file}")
        message(STATUS "Uninstalling: ${file}")
        execute_process(
            COMMAND ${CMAKE_COMMAND} -E remove "${file}"
            RESULT_VARIABLE result
        )
        if(result)
            message(FATAL_ERROR "Failed to remove: ${file}")
        endif()
    endif()
endforeach()
